<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Cloud Native Platform – Cloud Native Platform</title><link>https://govcloud.ca/docs/cloud-native-platform/</link><description>Recent Hugo news from gohugo.io</description><generator>Hugo -- gohugo.io</generator><image><url>https://govcloud.ca/img/hugo.png</url><title>GoHugo.io</title><link>https://govcloud.ca/docs/cloud-native-platform/</link></image><atom:link href="https://govcloud.ca/docs/cloud-native-platform/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Getting Started</title><link>https://govcloud.ca/docs/cloud-native-platform/getting-started/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://govcloud.ca/docs/cloud-native-platform/getting-started/</guid><description>
&lt;h2 id="pre-requisites">Pre-Requisites&lt;/h2>
&lt;p>These are the current prerequisite steps required to be able to connect to a Kubernetes cluster (&lt;strong>SDLC&lt;/strong>).&lt;/p>
&lt;p>This checklist corresponds to what must be met for every member in your project team:&lt;/p>
&lt;ul>
&lt;li>A cloud account and corresponding Virtual Machine&lt;/li>
&lt;li>Assigned a Active Directory group to which access is granted access to a namespace&lt;/li>
&lt;li>Granted explicit access to our kube context files in GitLab&lt;/li>
&lt;/ul>
&lt;h2 id="checklist-to-start-working-in-the-cloud">Checklist to Start Working in the cloud&lt;/h2>
&lt;ol>
&lt;li>Request Cloud account : &lt;a href="http://jira.example.ca">http://jira.example.ca&lt;/a>&lt;/li>
&lt;li>Log-in to Azure Portal: &lt;a href="https://confluence.example.ca">https://confluence.example.ca&lt;/a>&lt;/li>
&lt;li>Create VM in the cloud: &lt;a href="https://confluence.example.ca">https://confluence.example.ca&lt;/a>&lt;/li>
&lt;li>Get access to GitLab: &lt;a href="https://confluence.example.ca">https://confluence.example.ca&lt;/a>&lt;/li>
&lt;li>Get access to Artifactory, and Octopus: &lt;a href="https://artifactory.example.ca,">https://artifactory.example.ca,&lt;/a> &lt;a href="https://octopus.example.ca">https://octopus.example.ca&lt;/a>&lt;/li>
&lt;li>Connect to the newly created VM: &lt;a href="https://confluence.example.ca">https://confluence.example.ca&lt;/a>&lt;/li>
&lt;li>VSCode setup : &lt;a href="https://confluence.example.ca">https://confluence.example.ca&lt;/a>&lt;/li>
&lt;li>Guide To Cloud Native Development - &lt;a href="https://confluence.example.ca">https://confluence.example.ca&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="learning">Learning&lt;/h2>
&lt;p>The official Kubernetes + Docker documentation is quite excellent and should always be your first stop.&lt;/p>
&lt;p>However we have provided some additional materials below which should provide some additional assistance.&lt;/p>
&lt;h3 id="beginner">Beginner&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://azure.microsoft.com/en-us/resources/videos/the-illustrated-children-s-guide-to-kubernetes/">Children’s Illustrated guide to Kubernetes&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://azure.microsoft.com/en-us/resources/videos/phippy-goes-to-the-zoo-a-kubernetes-story/">Phippy Goes to the Zoo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://phippygoestothemountains.github.io/">Phippy and Zee go to the mountains&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://azure.microsoft.com/mediahandler/files/resourcefiles/kubernetes-learning-path/Kubernetes%20Learning%20Path_Version%202.0.pdf">Kubernetes Learning Path&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="intermediate">Intermediate&lt;/h3>
&lt;ul>
&lt;li>The Kubernetes Book&lt;/li>
&lt;li>Kubernetes Up and Running&lt;/li>
&lt;li>Kubernetes in Action&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>These books are available to you as PDF’s upon request&lt;/p>
&lt;/blockquote>
&lt;h2 id="tooling">Tooling&lt;/h2>
&lt;p>In order to work efficiently with Kubernetes we recommend that you install the following tools:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://helm.sh/">helm&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://code.visualstudio.com/docs/azure/kubernetes">vscode kubernetes extension&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://govcloud.ca/docs/cloud-native-platform/lens/" title="Lens">Lens&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="kube-contexts">Kube Contexts&lt;/h2>
&lt;p>If kubectl doesn’t work you are encouraged to check and make sure your kube context file(s) haven’t been changed and / or updated.&lt;/p>
&lt;h3 id="sdlc">SDLC&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-dev-shared&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-test-shared&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-production-shared&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="additional-environments">Additional Environments&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-02-innovation-shared&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-management-shared&lt;/a>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Please note if you are unable to access the links you will need to file a JIRA in order to get yourself added to the repository.&lt;/p>
&lt;/blockquote>
&lt;h2 id="application-templates">Application Templates&lt;/h2>
&lt;p>We provide an example repository providing some helpful examples for some of the most common deployments.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">cloudnative/onboarding/kubernetes-applications-templates&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>The repository provides a Dockerfile and a Helm Chart for a variety of programming languages:&lt;/p>
&lt;ul>
&lt;li>dotnet&lt;/li>
&lt;li>go&lt;/li>
&lt;li>java&lt;/li>
&lt;li>nodejs&lt;/li>
&lt;li>php&lt;/li>
&lt;li>python&lt;/li>
&lt;/ul>
&lt;h2 id="helm-charts">Helm Charts&lt;/h2>
&lt;p>Most of our project level workloads are deployed via Helm Chart and the repo itself is set to public so you can learn from real world examples.&lt;/p>
&lt;p>All of the secrets and custom values (overrides) are stored in the CD solution which is why this repository is allowed to
be public.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/statcan/charts">statcan/charts&lt;/a> (public)&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">cloudnative/charts&lt;/a> (internal)&lt;/li>
&lt;/ul>
&lt;h2 id="what-is-helm">What is Helm?&lt;/h2>
&lt;p>Helm is the official package manager for Kubernetes. It helps you define, install, and even upgrade even the most complex Kubernetes applications with ease.&lt;/p>
&lt;p>If you deploy applications to Kubernetes, Helm makes it easy to version those deployments, package them, make a release, and then deploy, upgrade, and even rollback those deployments.&lt;/p>
&lt;h3 id="key-benefits">Key Benefits&lt;/h3>
&lt;ul>
&lt;li>Official Kubernetes package manager&lt;/li>
&lt;li>Reproducible builds of your application&lt;/li>
&lt;li>Intelligent management of manifest files&lt;/li>
&lt;li>Manage and version releases&lt;/li>
&lt;/ul>
&lt;h3 id="why-teams-love-helm">Why Teams Love Helm&lt;/h3>
&lt;p>Application teams love Helm because it helps project teams:&lt;/p>
&lt;p>&lt;strong>Manage Complexity:&lt;/strong> Charts describe even the most complex application, providing repeatable application installation, and serve as the sole single point of authority.&lt;/p>
&lt;p>&lt;strong>Easy Updates:&lt;/strong> Charts take the pain out of updates with in place upgrades and even custom hooks.&lt;/p>
&lt;p>&lt;strong>Simple Sharing:&lt;/strong> Charts are incredibly easy to version, share, and host on public and / or private server.&lt;/p>
&lt;h3 id="terminology">Terminology&lt;/h3>
&lt;p>&lt;strong>Helm Charts:&lt;/strong> Helm uses a packaging format called charts. A chart is a collection of files that describe a releated set of Kubernetes resources. A single chart might be used to deploy something like a Nginx service or even something far more complicated like a full deployment of a &lt;strong>COTS&lt;/strong> product.&lt;/p>
&lt;p>&lt;strong>Helm Repositories:&lt;/strong> At a high level, a chart repository is a location where packaged charts can be stored and shared. Most of Statistics Canada Helm Charts are stored in the Artifactory Helm repository:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://artifactory.example.ca">Artifactory&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="oci-image-pipeline">OCI Image Pipeline&lt;/h2>
&lt;p>&lt;img src="../../images/cloudnative/pipeline.png" alt="Pipeline" title="Pipeline">&lt;/p>
&lt;p>We provide an opinionated automated pipeline that builds OCI images from Dockerfiles using kaniko. This pipeline provides linting via optional components such as Dockle, Hadolint, and Trivy.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">kaniko-image-ci&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>This pipeline follows a versioning and CI methodology that is closely linked to a GitOps model. The state of the git repository and its versioning are the canonical state of the images produced and later run in the &lt;strong>SDLC&lt;/strong>.&lt;/p>
&lt;h2 id="flows">Flows&lt;/h2>
&lt;p>This pipeline defines three flows related to the type of git object:&lt;/p>
&lt;ul>
&lt;li>master&lt;/li>
&lt;li>branches&lt;/li>
&lt;li>tags&lt;/li>
&lt;/ul>
&lt;p>The flows work best for a repository with linear feature-branch based development with periodic releases of milestones.&lt;/p>
&lt;p>However these flows can easily be change to suite other workflows by overriding the jobs.&lt;/p>
&lt;h3 id="master">Master&lt;/h3>
&lt;p>On the master branch, the image is built, scanned, linted, and then pushed to a container registory.&lt;/p>
&lt;p>&lt;img src="../../images/cloudnative/flowmaster.png" alt="Master" title="Master">&lt;/p></description></item><item><title>Docs: Cloud Native Charter</title><link>https://govcloud.ca/docs/cloud-native-platform/charter/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://govcloud.ca/docs/cloud-native-platform/charter/</guid><description>
&lt;h2 id="summary">Summary&lt;/h2>
&lt;h3 id="what-is-the-cloud-native-team">What is the Cloud Native Team?&lt;/h3>
&lt;p>The Cloud Native team is a modernization initiative part of the larger Cloud Services Enablement Project (CSEP). We investigate, design, develop and operate modern infrastructure systems powered by cloud-first designs and open source software that enable project teams to develop, deploy, and operate applications in a secure, flexible and inter-operable fashion.&lt;/p>
&lt;h2 id="objectives">Objectives&lt;/h2>
&lt;p>We have three primary objectives:&lt;/p>
&lt;p>&lt;strong>To design and build a cross-cloud platform for application teams.&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>The platform enables built-in security, logging, monitoring and observability of applications with little to no effort from the application teams using different technology stacks.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>To assist application teams with modernizing their applications for a cloud native environment.&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>This includes moving applications towards a more distributed and resilient micro-services architecture. The goal of the team is to become less hands-on and more architectural guidance for application teams.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>To deliver and develop applications more rapidly and in a secure manner.&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>This is possible due to the reduced surface area application developers need to concern themselves with while inheriting the baked in security and unified promotion of workloads from development to production. Cloud Native technologies are constantly evolving, and it's the Cloud Native team's responsibility to continue to monitor, investigate, and adapt to those trends.&lt;/p>
&lt;/blockquote>
&lt;h2 id="ethos--vision">Ethos / Vision&lt;/h2>
&lt;p>The Cloud Native team investigates and makes new technologies available to application teams. Longer-term, the vision is to enable development teams to be fully self sufficient, moving our support from &amp;ldquo;hands-on&amp;rdquo; towards &amp;ldquo;trouble assistance&amp;rdquo;.&lt;/p>
&lt;h2 id="goals">Goals&lt;/h2>
&lt;p>Provide a highly-available cloud infrastructure platform.&lt;/p>
&lt;p>Provide core services to applications which enable faster development cycles by implementing solutions to common requirements:&lt;/p>
&lt;ul>
&lt;li>Request handling (TLS, routing, etc.)&lt;/li>
&lt;li>Logging&lt;/li>
&lt;li>Monitoring&lt;/li>
&lt;/ul>
&lt;p>We strive for the use of technologies belonging to the Cloud Native Computing Foundation (CNCF) and/or Open Source Software wherever possible.&lt;/p>
&lt;p>The work performed by the team should be Open Sourced by default, except where this would violate Government of Canada or Statistics Canada policies.&lt;/p>
&lt;h2 id="out-of-scope">Out of Scope&lt;/h2>
&lt;p>As established / approved by the &lt;a href="https://confluence.example.ca">Cloud Technical Review Committee (CTRC)&lt;/a> through the document on cloud computing, the final destination for various computing workloads are targeted for the Cloud Native environment, with the exception of:&lt;/p>
&lt;ul>
&lt;li>.NET Framework&lt;/li>
&lt;li>IIS&lt;/li>
&lt;li>SAS Workloads&lt;/li>
&lt;li>WinForms&lt;/li>
&lt;/ul>
&lt;p>Many of the above technologies we can indeed run but other considerations such as current availability, timelines, and priority may have come into play.&lt;/p>
&lt;h2 id="governance">Governance&lt;/h2>
&lt;p>Governance actively assesses and manages the risks associated with the mission program throughout the lifecycle. Governance activities do not stop after Authority to Operate (ATO) but continue throughout the software lifecycle, including operations and monitoring. DevSecOps can facilitate and automate many governance activities.&lt;/p>
&lt;h2 id="roles">Roles&lt;/h2>
&lt;p>The following are the most common types of users that will interact with a Kubernetes cluster:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Cloud Native Team (Developers / Administrators)&lt;/strong>&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Users that are responsible to do administrative or developmental tasks on the cluster along with the platform services. This includes operations like upgrading the cluster or creating the resources/workloads on the cluster.&lt;/p>
&lt;/blockquote>
&lt;ol start="2">
&lt;li>&lt;strong>Project Teams&lt;/strong>&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Users that are granted namespace level permissions for their projects and tasked with the successful operation of their application once it is successfully on-boarded through CI/CD.&lt;/p>
&lt;/blockquote>
&lt;ol start="3">
&lt;li>&lt;strong>End Users&lt;/strong>&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Users that access the applications deployed on our Kubernetes cluster. Access restrictions for these users are managed by the applications themselves.&lt;/p>
&lt;/blockquote>
&lt;p>The Cloud Native team consists primarily of developers along with several administrators who strive to assist both the project teams and end users of the platform. Developers will primarily be tasked the operation and maintenance of platform level components while Administrators will be concerned with the operation and maintenance of the Clusters themselves. It is a requirement though that all members train and assist the on-boarding for the priority project teams.&lt;/p>
&lt;p>This is in addition to creating and improving our documentation to assist subsequent teams who might not have direct involvement by us.&lt;/p>
&lt;p>There are a few caveats to the above which can result in additional roles being given to team members (should they be willing):&lt;/p>
&lt;p>Maintain the suite of Horizontal Services whose administration currently falls under our purview.&lt;/p>
&lt;p>We work closely with the CI/CD team which is slowly taking on more responsibilities.&lt;/p>
&lt;p>We work closely with the Data Analytics as a Service team.&lt;/p>
&lt;p>We often provide and consult with the greater Cloud Service Enablement Project (CSEP) team assisting with departmental initiatives.&lt;/p>
&lt;h2 id="decision-making">Decision Making&lt;/h2>
&lt;p>Decisions related to application onboarding onto the Kubernetes clusters (SDLC) is done at the weekly CTRC meetings, guided by the business assessment Q&amp;amp;A and as prioritized by the OCIO.&lt;/p>
&lt;p>For platform functionality, decisions are made by the team as a whole, guided by the requirements of application teams and lead by the lead technical resources of the project.&lt;/p>
&lt;h2 id="off-ramp">Off-Ramp&lt;/h2>
&lt;p>Things change, priorities get optimized, life happens. Having an easy on and off ramp is important to this team. If a lead needs to take an extended absence or leave the team, a shadow would be offered the lead position prior to seeking a lead elsewhere.&lt;/p>
&lt;p>Therefore moving from shadow to lead and vice versa should be made as simply as possible by continued communications from this team about its members, roles, successes, and failures.&lt;/p></description></item><item><title>Docs: Lens</title><link>https://govcloud.ca/docs/cloud-native-platform/lens/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://govcloud.ca/docs/cloud-native-platform/lens/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>&lt;img src="../../images/cloudnative/lens.png" alt="Lens" title="Lens">&lt;/p>
&lt;h3 id="what-is-lens">What is Lens?&lt;/h3>
&lt;p>Lens provides the full situational awareness for everything that runs in Kubernetes. It's lowering the barrier of entry for people just getting started and radically improving productivity for people with more experience.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/lensapp/lens">lensapp/lens&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="key-features">Key Features&lt;/h3>
&lt;p>Lens provides a wealth of improvements to both usability and end user experience over standard kubectl.&lt;/p>
&lt;ul>
&lt;li>Unified, secure, multi-cluster management&lt;/li>
&lt;li>Real-time cluster state visualization&lt;/li>
&lt;li>Resource utilization charts and trends with history&lt;/li>
&lt;li>Prometheus integration&lt;/li>
&lt;li>Smart terminal access to nodes and containers&lt;/li>
&lt;li>RBAC security is preserved&lt;/li>
&lt;li>Port Forwarding&lt;/li>
&lt;/ul>
&lt;h3 id="sanity-checks">Sanity Checks&lt;/h3>
&lt;p>Before you can successfully use Lens you should verify with kubectl that you have the appropriate access.&lt;/p>
&lt;p>Since often times you might only have access to your project groups individual namespace it is imperative that you always pass your namespace as a parameter to kubectl.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#8f5902;font-style:italic"># List all of the pods in your namespace&lt;/span>
&amp;gt; kubectl get po -n &amp;lt;namespace&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="kube-contexts">Kube Contexts&lt;/h2>
&lt;p>If kubectl doesn’t work you are encouraged to check and make sure your kube context file(s) haven’t been changed and / or updated.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-dev-shared&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-test-shared&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-production-shared&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Please note if you are unable to access the links you will need to file a JIRA in order to get yourself added to the repository.&lt;/p>
&lt;h2 id="accessible-namespaces">Accessible Namespaces&lt;/h2>
&lt;p>After confirming that your kubectl is working and if you only have granted access to individual namespaces (which is likely the case) you should tell Lens the
individual namespaces. You can access this setting under cluster settings by right clicking your cluster icon.&lt;/p>
&lt;h2 id="active-directory">Active Directory&lt;/h2>
&lt;p>In general Active Directory groups are what is used to grant users access to our Kubernetes SDLC environments.&lt;/p>
&lt;p>Very rarely do we ever assign individual access and when requesting other users to have access to their individual project level namespace we ask that you always provide the Azure AD group name and / or object id of that group in the JIRA ticket.&lt;/p>
&lt;p>All of these mappings are controlled through terraform in the following repositories though access to these repositories are limited.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-dev&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-test&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">k8s-cancentral-01-production&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="frequently-asked-questions">Frequently Asked Questions&lt;/h2>
&lt;p>Question: Lens isn’t working correctly and/or I am having some unexpected errors&lt;/p>
&lt;blockquote>
&lt;p>You should always make sure you are using the latest release of Lens which can be found at the following address: &lt;a href="https://github.com/lensapp/lens/releases">https://github.com/lensapp/lens/releases&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>Question: An error similar to cannot connect to localhost:8080 is present&lt;/p>
&lt;blockquote>
&lt;p>This error likely means you have linked to an incorrect or outdated kube config file and you should check to make sure you have the latest file.&lt;/p>
&lt;/blockquote>
&lt;p>Question: Cannot list namespaces/pods&lt;/p>
&lt;blockquote>
&lt;p>You have likely not configured the accessible namespaces under your cluster settings for Lens.&lt;/p>
&lt;/blockquote>
&lt;p>Question: I would like to grant access to my namespace to other users&lt;/p>
&lt;blockquote>
&lt;p>You will have to file a JIRA specifying the Azure Active Directory group that contains the user you wish to be given access to your namespace.&lt;/p>
&lt;/blockquote></description></item><item><title>Docs: Auditing and Logging</title><link>https://govcloud.ca/docs/cloud-native-platform/logging/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://govcloud.ca/docs/cloud-native-platform/logging/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>The Cloud Native platform on AKS continuously inventories all system components, monitors the performance and security of all components, and logs application and system events.&lt;/p>
&lt;p>The process starts with application logging, compute resource monitoring, storage monitoring, network monitoring, security monitoring, and data monitoring at the Kubernetes pod level. Each application will need to determine how it is divided into subsystems, the number of subsystems, and the specific monitoring mechanisms within the subsystems. The security tools within each subsystem (e.g., the Sidecar Container Security Stack) will aggregate and forward the event logs gathered from monitoring to a locally centralized aggregated logs database on the platform.&lt;/p>
&lt;p>It is important to highlight that this is entirely automated within the Kubernetes cluster. The aggregated logs will be further forwarded to the chosen cloud logging platform (Azure Log Analytics) after passing the program application configured log filter. The program’s local log analysis capability will analyze the aggregated logs and generate alerts and reports.&lt;/p>
&lt;p>&lt;img src="../../images/cloudnative/loggingarch.png" alt="Architecture" title="Architecture">&lt;/p>
&lt;p>Created and Open Sourced Terraform modules:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-audit">terraform-kubernetes-audit&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-fluentd">terraform-kubernetes-fluentd&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-elastic-cloud">terraform-kubernetes-elastic-cloud&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-prometheus">terraform-kubernetes-prometheus&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-istio-operator">terraform-kubernetes-istio-operator&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Auditd will audit all of the container functionality.&lt;/p>
&lt;p>Fluentd will collect all of the container logs.&lt;/p>
&lt;p>Elasticsearch stores and search logs leveraging Kibana to visualize them.&lt;/p>
&lt;p>Prometheus is used for real time metrics along with Alert manager to generate alerts and Grafana for visualizations.&lt;/p>
&lt;p>Finally Istio will collect all of the network traffic send and recieved by the applications.&lt;/p>
&lt;h2 id="centralized-logging-platform">Centralized Logging Platform&lt;/h2>
&lt;p>&lt;img src="../../images/cloudnative/loggingmetrics.png" alt="Metrics" title="Metrics">&lt;/p>
&lt;p>Once processed by the audit pipeline, all logs will be stored into an Elasticsearch environment. Elasticsearch is a search engine which functions well with log content. It also understands the fields in the audit log, allowing for dynamic querying against the entire audit log set.&lt;/p>
&lt;p>Additionally, through Kibana (or other external tools), any report based on the audit logs can be generated. It is also possible to generate graphs or other visualizations to assist with investigation and/or anomaly detection.&lt;/p>
&lt;p>For AKS-based clusters, audit logs are stored immediately offloaded and stored in an Azure Storage Account and then processed and sent into an Elasticsearch
cluster by a specialized container running on the node.&lt;/p>
&lt;p>For AKS-Engine based cluster, audit logs will be written onto the disk of the master nodes and then processed and sent into an Elasticsearch cluster by a specialized container running on the node.&lt;/p>
&lt;h2 id="audit-logs">Audit Logs&lt;/h2>
&lt;p>&lt;img src="../../images/cloudnative/loggingverb.png" alt="Logging" title="Logging">&lt;/p>
&lt;p>Kubernetes auditing provides a securityrelevant chronological set of records documenting the sequence of activities that have affected system by individual users, administrators or other components of the system.&lt;/p>
&lt;blockquote>
&lt;p>Auditing logs required as part of any security audit process with internal or external process can be additionally sent to another system for further processing as required.&lt;/p>
&lt;/blockquote>
&lt;p>It allows cluster administrator to answer the following questions:&lt;/p>
&lt;ul>
&lt;li>what happened?&lt;/li>
&lt;li>when did it happen?&lt;/li>
&lt;li>who initiated it?&lt;/li>
&lt;li>on what did it happen?&lt;/li>
&lt;li>where was it observed?&lt;/li>
&lt;li>from where was it initiated?&lt;/li>
&lt;li>to where was it going?&lt;/li>
&lt;/ul>
&lt;p>Additionally here is the list of events for which an audit log will be generated:&lt;/p>
&lt;ul>
&lt;li>Creating a resource&lt;/li>
&lt;li>Updating a resource&lt;/li>
&lt;li>Deleting a resource&lt;/li>
&lt;li>Accessing a resource&lt;/li>
&lt;li>Access to a resource (e.g., port-forward or exec)&lt;/li>
&lt;/ul>
&lt;h3 id="audit-logs-content">Audit Logs Content&lt;/h3>
&lt;p>At a minimmum, audit logs will contain the following information:&lt;/p>
&lt;h3 id="audit-logs-retention">Audit Logs Retention&lt;/h3>
&lt;p>The Centralized Logging Platform will retain audit records for 6 months at a minimum in order to provide support for after-the-fact investigations of security incidents and to meet regulatory and organizational information retention requirements. Additionally an automated cron has been setup to remove indexes that are older then 9 months.&lt;/p>
&lt;p>It should be noted that any index can be backed up and exported from a specific period and / or range a time and then backed up to persistent storage in order to comply with security requirements that these logs be kept for at least two years.&lt;/p>
&lt;p>Additionally, if required by security requirements for specific requests, the following information may also be added to generated audit logs to provide the full context.&lt;/p></description></item><item><title>Docs: Production Vision</title><link>https://govcloud.ca/docs/cloud-native-platform/vision/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://govcloud.ca/docs/cloud-native-platform/vision/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>Product Vision for Cloud Native Platform&lt;/p>
&lt;ul>
&lt;li>Describes the purpose of the Product&lt;/li>
&lt;li>Provides a common understanding of the direction to move towards&lt;/li>
&lt;li>Guides and informs decisions regarding the platform&lt;/li>
&lt;/ul>
&lt;p>Helps to answer the following questions:&lt;/p>
&lt;ul>
&lt;li>Who is the target audience, the benefits it provides, the key features and the business goals for the organization&lt;/li>
&lt;li>This guides us in the direction of where we want to be, not necessarily what is available today&lt;/li>
&lt;/ul>
&lt;h3 id="anatomy-of-a-product-vision-board">Anatomy of a product vision board&lt;/h3>
&lt;p>&lt;img src="../../images/cloudnative/vision.png" alt="Vision" title="Vision">&lt;/p>
&lt;p>5 main sections:&lt;/p>
&lt;ul>
&lt;li>Target Group (the group most likely to benefit from using the product)&lt;/li>
&lt;li>Needs (provided benefits, why would someone want to use the product)&lt;/li>
&lt;li>Product (key features of the product)&lt;/li>
&lt;li>Business Goals (benefits to the organization)&lt;/li>
&lt;li>Vision (the goal we want to achieve)&lt;/li>
&lt;/ul>
&lt;p>Target Group&lt;/p>
&lt;ul>
&lt;li>Encompasses both IT and non-IT users&lt;/li>
&lt;li>Encompasses the range of solution types (large-scale apps to smaller pieces of a much larger app)&lt;/li>
&lt;/ul>
&lt;p>Needs&lt;/p>
&lt;ul>
&lt;li>Enable solution builders to have more autonomy over their solutions and enforce the self-serve model&lt;/li>
&lt;li>Challenges from previous projects included the lack of consistency in infrastructure&lt;/li>
&lt;li>Environment were slightly different&lt;/li>
&lt;li>Usually required someone to manually intervene to make adjustments&lt;/li>
&lt;li>Broad knowledge of the differences was not widely known&lt;/li>
&lt;li>Bundling the documentation with the solution ensures this vital information is not decoupled&lt;/li>
&lt;/ul>
&lt;p>Product&lt;/p>
&lt;ul>
&lt;li>Security features on the platform that solutions can benefit from&lt;/li>
&lt;li>CNCF: well supported community of open source projects&lt;/li>
&lt;li>Observability: enables a better understanding as to why something went wrong&lt;/li>
&lt;/ul>
&lt;p>Business Goals&lt;/p>
&lt;ul>
&lt;li>Rather than pay for infrastructure that may sit dormant, it can be targeted when needed&lt;/li>
&lt;li>Fail fast: solutions could be deployed on Day 0 which enables early realization of success or failure, allowing teams to pivot in the right direction&lt;/li>
&lt;li>Aligns with the GoC Digital Standards and break the silos within IT (dev and operations)&lt;/li>
&lt;/ul>
&lt;p>Vision&lt;/p>
&lt;ul>
&lt;li>Highlights the key ideas: reliable, self-service, rapid deployment&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="../../images/cloudnative/vision-roadmap.png" alt="Roadmap" title="Roadmap">&lt;/p></description></item><item><title>Docs: Supported Workloads</title><link>https://govcloud.ca/docs/cloud-native-platform/supported-workloads/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://govcloud.ca/docs/cloud-native-platform/supported-workloads/</guid><description>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>Deploy and manage containerized applications with a managed Kubernetes service. Leveraging the Azure Kubernetes Service (AKS) the cloud native team offers serverless Kubernetes, an integrated CI / CD experience while promoting enterprise grade securtiy and governance. Unite your development and operations teams on a single platform to rapidly built, deliver, and scale applications with confidence.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gcdocs.example.ca">Cloud Native Reference Documents&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://govcloud.ca/docs/cloud-native-platform/charter/" title="Cloud Native Cloud Native Charter">Cloud Native Cloud Native Charter&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://confluence.example.ca">Cloud Native Service Catalogue&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gcdocs.example.ca">Cloud Native Concept of Operations&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="target-selection">Target Selection&lt;/h2>
&lt;p>The Cloud Native platform is able to run nearly all technologies that are being considered for migration into the cloud environment. Generally, if there is an official Docker container available for a given technology, we can run it.&lt;/p>
&lt;p>However, we do know there are some nuances with applications of certain workloads that might make it challenging to go to a Kubernetes environment.&lt;/p>
&lt;p>The following technologies are those that would &lt;strong>NOT&lt;/strong> go to the a Kubernetes environment at this time:&lt;/p>
&lt;ul>
&lt;li>.NET Framework&lt;/li>
&lt;li>Production databases as should be Managed Services&lt;/li>
&lt;li>SAS&lt;/li>
&lt;li>GUI-only applications (Win Forms)&lt;/li>
&lt;/ul>
&lt;p>This reflects and aligns with the Cloud Assessment Q&amp;amp;A document that was approved at the Cloud Technical Review Committee, which describes the order of consideration for applications.&lt;/p>
&lt;h2 id="cloud-native-workloads">Cloud Native Workloads&lt;/h2>
&lt;p>As we mentioned above, we can run basically any technology that has an official Docker image. If you want a more definitive list, here are the technologies that we've already worked with:&lt;/p>
&lt;ul>
&lt;li>C/C++&lt;/li>
&lt;li>PHP&lt;/li>
&lt;li>Python&lt;/li>
&lt;li>.NET Core&lt;/li>
&lt;li>NodeJS / TypeScript&lt;/li>
&lt;li>Java&lt;/li>
&lt;li>Golang&lt;/li>
&lt;/ul>
&lt;h2 id="sdlc">SDLC&lt;/h2>
&lt;p>The SDLC (software development lifecycle) environments / Kubernetes clusters that we currently provide for project teams along with full &lt;strong>SLA&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>development&lt;/li>
&lt;li>test&lt;/li>
&lt;li>qa&lt;/li>
&lt;li>prod&lt;/li>
&lt;/ul>
&lt;p>Everything is created entirely using infrastructure as code (Terraform) and further SDLC environments can easily be created should the need arise.&lt;/p>
&lt;p>We do support a few other environments in addition to the core SDLC:&lt;/p>
&lt;ul>
&lt;li>inno&lt;/li>
&lt;li>infratest&lt;/li>
&lt;li>ingress&lt;/li>
&lt;li>mgmt&lt;/li>
&lt;/ul>
&lt;p>All of our environments have the full authority to operate (ATO).&lt;/p>
&lt;p>Our SDLC runs on the Azure cloud service provider. We have open sourced both our Azure and IBM C.S.P. templates which reside on the GC Accelerators. Internally at Statistics Canada we make derivatives of the Azure ones for each SDLC and separate out the infrastructure itself from the platform level components.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-aks">terraform-kubernetes-aks&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-aks-platform">terraform-kubernetes-aks-platform&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-iks">terraform-kubernetes-iks&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/canada-ca-terraform-modules/terraform-kubernetes-iks-platform">terraform-kubernetes-iks-platform&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="infrastructure">Infrastructure&lt;/h2>
&lt;p>The below templates can then be found for their SDLC infrastructure counterparts:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-dev&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-test&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-qa&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-prod&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Additional templates for other environments:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-inno&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-infratest&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-ingress&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-mgmt&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="platform">Platform&lt;/h2>
&lt;p>The below templates can then be found for their SDLC infrastructure counterparts:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-platform-dev&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-platform-test&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-platform-qa&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-platform-prod&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Additional templates for other environments:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-platform-inno&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-platform-infratest&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-platform-aks-ingress&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitlab.example.ca">terraform-kubernetes-aks-platform-mgmt&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="data-science-workloads">Data Science Workloads&lt;/h2>
&lt;p>If you have a data science related project you might be interested in the &lt;strong>Data Analytics as a Platform&lt;/strong>. This runs Kubernetes under the hood but is tailored for an optimal data science experience using the most popular OSS tools.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/statcan/daaas">statcan/daaas&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/StatCan/terraform-kubernetes-aks-daaas">terraform-kubernetes-aks-daaas&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/StatCan/terraform-kubernetes-aks-platform-daaas">terraform-kubernetes-aks-platform&amp;ndash;daaas&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="service-request">Service Request&lt;/h2>
&lt;p>The following represent some of the service requests you are able to file to gather assistance from our team:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://jirab.example.ca">Request Support&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://jira.example.ca">Request Enhancement&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://confluence.example.ca">Incident Report&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="service-owner">Service Owner&lt;/h2>
&lt;p>The following are some of the key contacts you might need to be aware of.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Service Owner&lt;/strong>: Andrew Sinkinson&lt;/li>
&lt;li>&lt;strong>IT Manager&lt;/strong>: Steven Melo&lt;/li>
&lt;li>&lt;strong>Senior TA&lt;/strong>: William Hearn&lt;/li>
&lt;/ul>
&lt;h2 id="service-delivery">Service Delivery&lt;/h2>
&lt;p>We provide full coverage and SLA for the following environments (Kubernetes clusters):&lt;/p>
&lt;ul>
&lt;li>dev&lt;/li>
&lt;li>test&lt;/li>
&lt;li>qa&lt;/li>
&lt;li>prod&lt;/li>
&lt;li>innovation&lt;/li>
&lt;li>daaas&lt;/li>
&lt;/ul>
&lt;p>Our maintenance window occurs every Tuesday and Thursday from 7:00 pm to 12:00 am.&lt;/p>
&lt;p>Our core service support hours occur everyday from 8:00 am to 5:00 pm eastern time.&lt;/p>
&lt;h2 id="change-management">Change Management&lt;/h2>
&lt;p>Platform-level changes are announced via the cloud maintenance notification process:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://confluence.example.ca">Schedule Maintenance&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Additionally please take a look at our maintenance strategy documentation for an overview of our methodology:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://confluence.example.ca">Maintenance Strategy&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="security">Security&lt;/h2>
&lt;p>Protected-B (PBLL) Security Compliant with Interim Authority to Operate (ATO):&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://jira.example.ca/browse/XXX-XXXX">XXX-XXXX - Containers CIS Benchmark&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://jira.example.ca/browse/XXX-XXXX">XXX-XXXX - Kubernetes CIS Benchmark&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://jira.example.ca/browse/XXX-XXXX">XXX-XXXX - Kubernetes / Containers SRTM&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="kubernetes-application-templates">Kubernetes Application Templates&lt;/h2>
&lt;p>We provide an example repository providing some helpful examples for some of the most common deployments.&lt;/p>
&lt;p>The repository provides a Dockerfile and a Helm Chart for a variety of programming languages:&lt;/p>
&lt;ul>
&lt;li>dotnet&lt;/li>
&lt;li>go&lt;/li>
&lt;li>java&lt;/li>
&lt;li>nodejs&lt;/li>
&lt;li>php&lt;/li>
&lt;li>python&lt;/li>
&lt;/ul>
&lt;h2 id="helm-charts">Helm Charts&lt;/h2>
&lt;p>Most of our project level workloads are deployed via Helm Chart and the repo itself is set to public so you can learn from real world examples.&lt;/p>
&lt;p>All of the secrets and custom values (overrides) are stored in the CD solution which is why this repository is allowed to be public.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/statcan/charts">statcan/charts&lt;/a> (public)&lt;/li>
&lt;li>&lt;a href="https://github.com/cloudnative/k8s/charts">cloudnative/charts&lt;/a> (internal)&lt;/li>
&lt;/ul></description></item><item><title>Docs: Getting Help</title><link>https://govcloud.ca/docs/cloud-native-platform/getting-help/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://govcloud.ca/docs/cloud-native-platform/getting-help/</guid><description>
&lt;h2 id="support">Support&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>Request Support&lt;/strong>: &lt;a href="https://jirab.example.ca">Click here&amp;hellip;&lt;/a>&lt;/li>
&lt;li>&lt;strong>Request Enhancement&lt;/strong>: &lt;a href="https://jirab.example.ca">Click here&amp;hellip;&lt;/a>&lt;/li>
&lt;li>&lt;strong>Incident Report&lt;/strong>: &lt;a href="https://govcloud.ca/docs/handbook/standard-operating-procedures/incident-report/" title="Template">Template&lt;/a>&lt;/li>
&lt;li>&lt;strong>Agile&lt;/strong>: &lt;a href="https://jirab.example.ca">Kanban Board&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="coverage">Coverage&lt;/h2>
&lt;ul>
&lt;li>Innovation&lt;/li>
&lt;li>DAaaS&lt;/li>
&lt;li>Dev&lt;/li>
&lt;li>Test&lt;/li>
&lt;li>QA (pending)&lt;/li>
&lt;li>Production&lt;/li>
&lt;/ul>
&lt;h2 id="maintenance-window">Maintenance Window&lt;/h2>
&lt;ul>
&lt;li>Tuesday 7PM-12AM&lt;/li>
&lt;li>Thursday 7PM-12AM&lt;/li>
&lt;/ul>
&lt;h2 id="service-availability">Service Availability&lt;/h2>
&lt;ul>
&lt;li>24/7 for the platform&lt;/li>
&lt;/ul></description></item></channel></rss>